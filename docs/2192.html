<html>
<head>
<title>Exploring Sentiment Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索情感分析</h1>
<blockquote>原文：<a href="https://medium.com/swlh/exploring-sentiment-analysis-a6b53b026131?source=collection_archive---------4-----------------------#2018-01-19">https://medium.com/swlh/exploring-sentiment-analysis-a6b53b026131?source=collection_archive---------4-----------------------#2018-01-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/75bcd2965ab4f30dcf051133b85a44a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NK1aoSh9jUgMOJz9YHqYSg.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Photo credit : <a class="ae hv" href="https://pixabay.com/en/display-dummy-board-face-technology-915135/" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><div class=""/><div class=""><h2 id="894d" class="pw-subtitle-paragraph iv hx hy bd b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm dx translated">理解文本挖掘-第2部分</h2></div><h2 id="8906" class="jn jo hy bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">介绍</h2><p id="8ac6" class="pw-post-body-paragraph kl km hy kn b ko kp iz kq kr ks jc kt jy ku kv kw kc kx ky kz kg la lb lc ld hb bi translated">本文是理解文本挖掘的第2部分。如果你刚登陆这里，第一部分可在<a class="ae hv" rel="noopener" href="/@rblog/understanding-and-writing-your-first-text-mining-script-with-r-c74a7efbe30f">这里</a>获得。</p><p id="85c0" class="pw-post-body-paragraph kl km hy kn b ko le iz kq kr lf jc kt jy lg kv kw kc lh ky kz kg li lb lc ld hb bi translated">文本挖掘的应用之一是情感分析。为了让我们继续对挖掘出的文本进行情感分析，我们需要清理和准备我们的数据集，正如我们在第1部分中看到的。</p><h2 id="a82e" class="jn jo hy bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">理解情感分析</h2><p id="10ad" class="pw-post-body-paragraph kl km hy kn b ko kp iz kq kr ks jc kt jy ku kv kw kc kx ky kz kg la lb lc ld hb bi translated">情绪分析:对提取的信息进行研究，以识别反应、态度、背景和情绪。作为文本挖掘的应用之一，情感分析揭示了挖掘文本中的态度。</p><p id="15df" class="pw-post-body-paragraph kl km hy kn b ko le iz kq kr lf jc kt jy lg kv kw kc lh ky kz kg li lb lc ld hb bi translated">它基于词的极性，它考虑积极或消极的词，中性词被解雇。</p><figure class="lk ll lm ln fd hk er es paragraph-image"><div class="er es lj"><img src="../Images/9bddb0b1aaa0f5dc23fcaa7668d3d7b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/format:webp/1*mZ3CGBeP2wV6UlAsybuslw.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Table showing word polarity examples</figcaption></figure><p id="6a72" class="pw-post-body-paragraph kl km hy kn b ko le iz kq kr lf jc kt jy lg kv kw kc lh ky kz kg li lb lc ld hb bi translated">情感分析是基于词汇完成的。比如说英语词典，用更简单的术语来说，词典就是词汇。在这种情况下，词典是具有两种极性的词的选择，可以用作情感分析中的度量。</p><p id="f063" class="pw-post-body-paragraph kl km hy kn b ko le iz kq kr lf jc kt jy lg kv kw kc lh ky kz kg li lb lc ld hb bi translated">根据您正在处理的数据的上下文，可以使用许多不同类型的词典。也有可能创建一个自定义词典，这取决于我们希望对您的数据进行多少自定义。</p><p id="fd84" class="pw-post-body-paragraph kl km hy kn b ko le iz kq kr lf jc kt jy lg kv kw kc lh ky kz kg li lb lc ld hb bi translated">在本文中，我们将使用<a class="ae hv" href="https://cran.r-project.org/web/packages/syuzhet/vignettes/syuzhet-vignette.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kn lo"> syuzhet </strong> </a>包。虽然CRAN上有许多用于情感分析的包，但syuzhet包非常适合学习，因为它是最常见词汇的组合，如<strong class="kn lo"> nrc </strong>、<strong class="kn lo"> bing </strong>和<strong class="kn lo"> afinn </strong>。</p><p id="83ae" class="pw-post-body-paragraph kl km hy kn b ko le iz kq kr lf jc kt jy lg kv kw kc lh ky kz kg li lb lc ld hb bi translated">我们还利用<a class="ae hv" href="https://www.rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf" rel="noopener ugc nofollow" target="_blank"> <strong class="kn lo"> ggplot2 </strong> </a>来进一步可视化我们的情感分析结果。</p><h2 id="baaa" class="jn jo hy bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">情感分析是如何工作的？</h2><p id="5f95" class="pw-post-body-paragraph kl km hy kn b ko kp iz kq kr ks jc kt jy ku kv kw kc kx ky kz kg la lb lc ld hb bi translated">简而言之，情感分析是作为术语文档(从挖掘的文本构建)和选择的词典的交集来执行的。</p><figure class="lk ll lm ln fd hk er es paragraph-image"><div class="er es lp"><img src="../Images/e978925cee330d2b8d5fa69f67fcf04e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*ZFx_0mWqK6eiWgFVLCFv1w.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">The first step is to have a term-document and a lexicon of your choice.</figcaption></figure><figure class="lk ll lm ln fd hk er es paragraph-image"><div class="er es lq"><img src="../Images/3a22de492a89bc6d9a825eef6b28e52f.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*xdZJYulcufsdrnheJKNSuw.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Then form an intersection between the two sets.</figcaption></figure><h2 id="3917" class="jn jo hy bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">实践情感分析</h2><p id="1b24" class="pw-post-body-paragraph kl km hy kn b ko kp iz kq kr ks jc kt jy ku kv kw kc kx ky kz kg la lb lc ld hb bi translated"><strong class="kn lo">例子一</strong>:这是一个简单的例子，我们从一个句子中提取情感。我们加载句子，使用strsplit()函数拆分每个单词以形成一个字符向量，并使用syuzhet库中的get _ NRC _ invision()函数。该函数接收new_sentence并将其与nrc情感词典进行比较，以返回如下所示的分数。</p><pre class="lk ll lm ln fd lr ls lt lu aw lv bi"><span id="5807" class="jn jo hy ls b fi lw lx l ly lz">library(syuzhet)</span><span id="8a89" class="jn jo hy ls b fi ma lx l ly lz">sentence &lt;- "i love cats such a bundle of joy."<br/>new_sentence &lt;- as.character(strsplit(sentence," "))</span><span id="95db" class="jn jo hy ls b fi ma lx l ly lz">get_nrc_sentiment(new_sentence)</span><span id="4f41" class="jn jo hy ls b fi ma lx l ly lz">#This is the output</span><span id="b33f" class="jn jo hy ls b fi ma lx l ly lz">anger anticipation disgust fear joy sadness surprise trust negative<br/>   0          0       0    0   2       0        0     0        0<br/>positive<br/>     2</span></pre><p id="85d4" class="pw-post-body-paragraph kl km hy kn b ko le iz kq kr lf jc kt jy lg kv kw kc lh ky kz kg li lb lc ld hb bi translated"><strong class="kn lo">例子二:</strong>第二个例子使用了从<a class="ae hv" href="https://www.kaggle.com/rounakbanik/ted-talks/data" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>下载的TED演讲数据集，名为<strong class="kn lo">抄本. csv </strong>。按照本文第1部分中的步骤，使用<strong class="kn lo"> tm包</strong>对其进行了清理，并在第2部分中继续进行情感分析。</p><pre class="lk ll lm ln fd lr ls lt lu aw lv bi"><span id="c926" class="jn jo hy ls b fi lw lx l ly lz">#load the libraries<br/>library(syuzhet)<br/>library(tm)<br/>library(ggplot2)</span><span id="740f" class="jn jo hy ls b fi ma lx l ly lz">#mydataCopy is a term document,generated from cleaning #transcripts.csv </span><span id="ed2c" class="jn jo hy ls b fi ma lx l ly lz">mydataCopy &lt;- mydata</span><span id="2ef1" class="jn jo hy ls b fi ma lx l ly lz">#carryout sentiment mining using the <strong class="ls lo">get_nrc_sentiment()</strong>function #log the findings under a variable <strong class="ls lo">result</strong></span><span id="f1de" class="jn jo hy ls b fi ma lx l ly lz">result &lt;- get_nrc_sentiment(as.character(mydataCopy))</span><span id="5f92" class="jn jo hy ls b fi ma lx l ly lz">#change result from a list to a data frame and transpose it </span><span id="ebdb" class="jn jo hy ls b fi ma lx l ly lz">result1&lt;-data.frame(t(result))</span><span id="aab7" class="jn jo hy ls b fi ma lx l ly lz">#rowSums computes column sums across rows for each level of a #grouping variable.</span><span id="ddbb" class="jn jo hy ls b fi ma lx l ly lz">new_result &lt;- data.frame(rowSums(result1))</span><span id="e084" class="jn jo hy ls b fi ma lx l ly lz">#name rows and columns of the dataframe</span><span id="48b1" class="jn jo hy ls b fi ma lx l ly lz">names(new_result)[1] &lt;- "count"<br/>new_result &lt;- cbind("sentiment" = rownames(new_result), new_result)<br/>rownames(new_result) &lt;- NULL</span><span id="e45e" class="jn jo hy ls b fi ma lx l ly lz">#plot the first 8 rows,the distinct emotions<br/>qplot(sentiment, data=new_result[1:8,], weight=count, geom="bar",fill=sentiment)+ggtitle("TedTalk Sentiments")</span><span id="e55c" class="jn jo hy ls b fi ma lx l ly lz"><br/>#plot the last 2 rows ,positive and negative<br/>qplot(sentiment, data=new_result[9:10,], weight=count, geom="bar",fill=sentiment)+ggtitle("TedTalk Sentiments")</span></pre><figure class="lk ll lm ln fd hk er es paragraph-image"><div class="er es mb"><img src="../Images/1f994b0572e4fc08db5eab8dbaaf13e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*UbgLyCypbkA3vZkSJ_Y75w.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Plot 1: Shows distinct emotions</figcaption></figure><figure class="lk ll lm ln fd hk er es paragraph-image"><div class="er es mb"><img src="../Images/f6d57563e053bbccbbd057eb82352987.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*RFb0zNeq8VcXYtpL_Dt6Kw.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx">Plot 2: Shows the combination of emotions under two polarities.</figcaption></figure><p id="1eb6" class="pw-post-body-paragraph kl km hy kn b ko le iz kq kr lf jc kt jy lg kv kw kc lh ky kz kg li lb lc ld hb bi translated">这个例子中的代码可以从这个<a class="ae hv" href="https://github.com/lornamariak/Sentiment-Analysis" rel="noopener ugc nofollow" target="_blank">库</a>中访问。</p><h2 id="55ff" class="jn jo hy bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">结论</h2><p id="67f5" class="pw-post-body-paragraph kl km hy kn b ko kp iz kq kr ks jc kt jy ku kv kw kc kx ky kz kg la lb lc ld hb bi translated">我们已经将我们的情感分析技巧应用于挖掘的文本，以得出对附加到文本数据的情感的明显描述。</p><p id="4c1d" class="pw-post-body-paragraph kl km hy kn b ko le iz kq kr lf jc kt jy lg kv kw kc lh ky kz kg li lb lc ld hb bi translated">这可能是一个完整的项目，可以帮助你了解如何以及何时与你的听众交谈，他们对某个话题/产品/服务的感觉，以及你可以用什么更好的方式与他们互动。</p><p id="2848" class="pw-post-body-paragraph kl km hy kn b ko le iz kq kr lf jc kt jy lg kv kw kc lh ky kz kg li lb lc ld hb bi translated">现在，继续选择一篇文章/数据集/活动，并按照步骤进行情感分析。<br/>快乐编码，我永远在这里帮忙&lt; - <a class="ae hv" href="http://twitter.com/lornamariak" rel="noopener ugc nofollow" target="_blank"> @lornamariak </a></p><figure class="lk ll lm ln fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mc"><img src="../Images/731acf26f5d44fdc58d99a6388fe935d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gfnVvkMRFtjVsWF7vkClA.png"/></div></div></figure><h2 id="fd41" class="jn jo hy bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">这个故事发表在<a class="ae hv" href="https://medium.com/swlh" rel="noopener"> The Startup </a>上，这是Medium最大的企业家出版物，拥有288，884+人。</h2><h2 id="7945" class="jn jo hy bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">在这里订阅接收<a class="ae hv" href="http://growthsupply.com/the-startup-newsletter/" rel="noopener ugc nofollow" target="_blank">我们的头条新闻</a>。</h2><figure class="lk ll lm ln fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mc"><img src="../Images/731acf26f5d44fdc58d99a6388fe935d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gfnVvkMRFtjVsWF7vkClA.png"/></div></div></figure></div></div>    
</body>
</html>