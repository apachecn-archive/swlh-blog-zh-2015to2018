<html>
<head>
<title>From Not Invented Here to Never Invented Here</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从不是在这里发明到从未在这里发明</h1>
<blockquote>原文：<a href="https://medium.com/swlh/from-not-invented-here-to-never-invented-here-1fd40e462553?source=collection_archive---------0-----------------------#2016-03-24">https://medium.com/swlh/from-not-invented-here-to-never-invented-here-1fd40e462553?source=collection_archive---------0-----------------------#2016-03-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/82ade2ea2b43e339bfbd1aba0046a908.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tpfl61tKheSKOZCcmH3cww.jpeg"/></div></div></figure><div class=""/><p id="fb11" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">“你为什么不去NPM寻找解决方案？”鲍勃问。爱丽丝认为她被跟踪了，但鲍勃似乎是完全认真的。“你在开玩笑吗？这是15行代码，我把它放在了共享文件夹中。”爱丽丝不相信地回答。“是的，但现在我们有责任永远维护它。如果你使用了开源模块，维护对其他人来说是个问题，”鲍勃反驳道。爱丽丝无言以对，鲍勃真的会这么想吗？</p><p id="5f02" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最近在Node社区发生了一场相当大的<a class="ae jp" href="https://github.com/azer/left-pad/issues/4" rel="noopener ugc nofollow" target="_blank">风波，导致许多包装被打破，因为一个开发商决定</a><a class="ae jp" rel="noopener" href="/@azerbike/i-ve-just-liberated-my-modules-9045c06be67c#.21fgmas7s">商标法不应该适用于他</a>。主要疼痛来自一个名为左垫的11线模块。至少开发人员还没有从GitHub中删除他的包，所以从短期来看，更新受影响的包package.json文件应该可以解决这个问题。也就是说，这里有一个更大的问题，这个事件完美地说明了一个非常容易陷入的反模式。</p><p id="fa64" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">大多数开发人员都是非常通情达理的人，他们在必要的时候使用别人的代码，在必要的时候编写自己的代码。尽管对许多事物来说，它不是二进制的，而是一个光谱。其范围从<strong class="is jq">未在此发明</strong>人群到<strong class="is jq">从未在此发明</strong>人群。</p><h2 id="34ce" class="jr js ht bd jt ju jv jw jx jy jz ka kb jb kc kd ke jf kf kg kh jj ki kj kk kl bi translated">不是在这里发明的</h2><p id="e6f2" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">这群人拒绝使用任何不是自己编写的软件(通常与他们的业务核心竞争力有关……如果他们生产iOS应用程序，他们就不会编写自己的内核)。他们希望对运行在他们系统中的每一点代码都有完全的控制，不管控制到什么程度。他们很大程度上不会受到最近事件的影响。也就是说，他们也将与共享代码带来的所有好处隔离开来。这包括安全审查、公共代码质量审查等。</p><h2 id="9814" class="jr js ht bd jt ju jv jw jx jy jz ka kb jb kc kd ke jf kf kg kh jj ki kj kk kl bi translated">从未在这里发明</h2><p id="3a98" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">这群人不惜一切代价避免编写代码。他们宁愿从GitHub中引入并集成一个4行函数，也不愿自己编写它。这里的论点是每一行代码都有相关的维护成本。因此，应避免代码(连接器代码除外)。这个群体会受到最近发生的事情的严重影响。也就是说，他们获得了低得多的开发成本的好处(无论如何在理论上),并且除了将现有的开源软件连接在一起之外，不用考虑太多的事情。</p><h2 id="5f6a" class="jr js ht bd jt ju jv jw jx jy jz ka kb jb kc kd ke jf kf kg kh jj ki kj kk kl bi translated">了解您在光谱中的位置</h2><p id="e230" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">优秀的开发者大多接受“不是在这里发明的”是不好的。这导致了更昂贵、更慢、更不安全的开发，并且持续的维护成本也更高。幸运的是,“不是在这里发明的”很难出现在你面前。如果你是这个阵营的一员，你应该很清楚。不幸的是,“从未在此发明”也不能这么说。“从未在此发明”很容易爬上你的心头，尤其是为了避免“未在此发明”。人们往往没有意识到的是，向“从未在这里发明”的爬行和成为“未在这里发明”的商店一样危险(尽管原因不同)。从来没有比11线NPM模块打破许多其他包装更好的说明了这一点。</p><p id="d830" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里有一些保持在“模式”范围内，避免“反模式”边缘的策略。在某些情况下，我以NPM为例，但这些策略是普遍适用的。</p><h2 id="d7cd" class="jr js ht bd jt ju jv jw jx jy jz ka kb jb kc kd ke jf kf kg kh jj ki kj kk kl bi translated">时间盒搜索</h2><p id="8727" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果某个东西需要不到一两个小时的时间来编码和测试，那么就不要在你已经熟悉或使用的现有库之外寻找现有的解决方案了。开始工作，写一些代码。</p><p id="fe82" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你认为某件事需要花费几天到几周的时间，花不超过20%的时间去寻找其他人已经解决了这个问题。如果你找不到合理的东西(即解决了95%的问题)，那么开始工作，写一些代码。</p><h2 id="c18c" class="jr js ht bd jt ju jv jw jx jy jz ka kb jb kc kd ke jf kf kg kh jj ki kj kk kl bi translated">分叉依赖关系</h2><p id="367a" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果你决定使用一个库或框架，因为它将显著提高你的完成时间或降低一些复杂代码的风险，那么把它放到GitHub上。如果代码在GitHub上不可用，但是是开源的，就镜像到GitHub上(可以通过添加一个新的遥控器并推送到那个遥控器上来实现)。一旦你有了它，<strong class="is jq">依赖那个版本</strong>作为你的依赖。大多数包管理器都有指定代码集源代码的方法，在NPM你可以很容易地做到这一点(参见许多伟大的NPM指南来了解如何做)。虽然这需要更多的工作，但是它有几个直接的优点:</p><ul class=""><li id="c7af" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz bi translated">你与未公开的原始回购绝缘</li><li id="4e8e" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">你不会受到意外升级的影响(尽管有了像NPM这样的软件包管理器，你可以收缩包装并实现这一点)</li></ul><p id="a29c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了利用包中的错误修复和新功能，您可以很容易地从源repo中提取到您的fork中。不言而喻，您提供的任何修复或添加都应该作为pull请求发送给原始回购。</p><h2 id="7463" class="jr js ht bd jt ju jv jw jx jy jz ka kb jb kc kd ke jf kf kg kh jj ki kj kk kl bi translated">使用开源并不能免除你的责任</h2><p id="6f26" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">使用开源代码而不是创建自己的代码的一个经常被引用的原因是维护成本。这也是使用开源代码最没有说服力的原因。虽然使用开源软件<strong class="is jq">可能会</strong>降低维护成本，但同样可能没有效果或者增加成本。这样做的原因是，如果您发现了一个bug，您现在有几个选择:</p><ol class=""><li id="b06f" class="kr ks ht is b it iu ix iy jb kt jf ku jj kv jn lf kx ky kz bi translated">报告并等待维护人员来修复它(这是您几乎无法控制的事情)</li><li id="7bd3" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn lf kx ky kz bi translated">自己修复它，这意味着你需要花时间阅读和理解代码，这样你的修改就不会有意想不到的副作用。</li><li id="1c7f" class="kr ks ht is b it la ix lb jb lc jf ld jj le jn lf kx ky kz bi translated">尝试解决这个问题，这也许可能，也许不可能，但肯定会导致一个不太好的解决方案。</li></ol><p id="8d7a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">正如我以前说过的，使用一些开源包的一个很好的理由是速度的显著提升和/或安全或速度敏感或其他复杂领域风险的降低。您仍然需要确保您相信它将继续被维护，或者在最坏的情况下您可以自己维护或替换它。</p><h2 id="96d5" class="jr js ht bd jt ju jv jw jx jy jz ka kb jb kc kd ke jf kf kg kh jj ki kj kk kl bi translated">TLDR；概述</h2><p id="0e6a" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">不要陷入一种从未发明过的反模式，要避免这种未发明过的反模式。添加依赖项前请三思。只有当它对你的项目有利的时候才这样做，并采取措施来避免上述的依赖风险。</p><h2 id="d459" class="jr js ht bd jt ju jv jw jx jy jz ka kb jb kc kd ke jf kf kg kh jj ki kj kk kl bi translated">关于我</h2><p id="71ca" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">我是Amir Yasin，是一名通晓多种语言的开发人员，对高性能、可伸缩性、软件架构和解决难题非常感兴趣。你可以<a class="ae jp" rel="noopener" href="/@ayasin">在Medium </a>上关注我关于软件工程的博客，<a class="ae jp" href="https://twitter.com/ayasin" rel="noopener ugc nofollow" target="_blank">在Twitter </a>上关注我偶尔说的有趣的事情，或者在GitHub 上查看<a class="ae jp" href="https://github.com/ayasin" rel="noopener ugc nofollow" target="_blank">我对自由/开源软件社区的贡献。</a></p><p id="d34d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is jq">如果你喜欢这篇文章，我会非常感谢你的推荐(点击下面的心脏)</strong>。</p></div></div>    
</body>
</html>