# 关于无服务器架构，您需要了解的一切

> 原文：<https://medium.com/swlh/everything-you-need-to-know-about-serverless-architecture-5cdc97e48c09>

![](img/5dbd4e583d3682c6f99930f0b124ab85.png)

自 20 世纪 60 年代以来，云计算就允许我们利用它的可管理性和灵活性。它给了我们拥有新服务器的权力。它为更高级的平台服务打开了一扇全新的大门，比如 API 网关、队列、认证等等。我们下一步会拥抱无服务器吗？大多数人认为无服务器与 FaaS(功能即服务)产品相提并论，这是可以理解的，因为他们对此感到失望，所以他们完全忽略了无服务器。他们错过了。既然你在这里，你的视野就不那么狭窄了。

# 定义无服务器

它的两个关键特性围绕着不可见的基础设施，取代了已配置的虚拟机映像和基于调用的计费，而不是通常的按小时计费。此外，它并不像你认为的那样模糊，大部分云已经是无服务器的。让许多程序员不舒服的是他们的代码是无服务器的。他们应该如何调试和监控环境？强化服务器的计划是什么？“无服务器”仅仅是平台即服务(PaaS)和基础设施即服务(IaaS)的自然演变，还是一种范式转变？

# 无服务器？代码终究要在某个地方运行。

没错。硬件仍然存在，所以当他们说无服务器时，这是一种服务级别的抽象，是为了开发人员的利益而产生的幻觉。无服务器架构将运行环境的责任从用户转移到云提供商，这是您接受这种帮助的一个令人信服的原因。这里，管理和供应基础设施的责任完全由服务提供商承担。因此，开发人员可以专注于编写代码。

在传统方法中，一旦开发者实现了在他们自己和外部世界之间通信的服务或功能，这些服务在安装、运行、监控和更新时被组合成一些分布式过程。这些进程在虚拟机上运行或操作。在无服务器方法中，服务提供商负责从进程到操作系统到服务器的一切。这意味着，您不再需要购买专用服务器。同时，服务提供商可以自由决定如何有效地使用他们的基础设施来满足所有客户的请求。

# 巴斯和 FaaS

无服务器架构通常被认为是平台即服务的发展。在无服务器架构中，应用程序要么依赖于被称为后端即服务或“BaaS”的第三方服务，要么依赖于在“功能即服务”或“FaaS”下的临时容器中运行的自定义代码

# 老板

越来越多的第三方服务提供商实现所需的功能，提供服务器端逻辑并管理其内部状态，这导致应用程序不具有特定于应用程序的服务器端逻辑，而是全部使用第三方服务。在这种情况下，这些应用程序是无服务器的。

# 法斯

AWS Lambda 和 Azure 函数恰好是第一批提供广泛使用的无服务器计算的函数之一。这两个主机位的代码都可以按需执行。在这里，您不用编写应用程序，而是编写带有事件规则的应用程序，在需要时触发您的代码。因为您的代码执行，所以您不关心服务器。在功能区中，您可以通过测量内存和 CPU 的使用情况，按几分之一秒的时间计费。你只是在无形中扩展，不管你是每天被调用一次还是一百万次，都没关系。所以，是的，我们今天没有服务器。

但是 FaaS 也有它的问题。并非所有工作负载都适合基于事件的单操作触发模型，也不可能将所有代码与其依赖项完全分离，某些依赖项可能需要相当密集的安装和配置。将现有的应用程序迁移到功能即服务模型通常非常复杂，从经济上来说是不可能的。此外，足够多的工具问题使得 FaaS 产品在某些场景下使用起来很痛苦。FaaS 非常适合微服务架构，因为 FaaS 提供了组织运行微服务所需的一切。

![](img/1b5472a894be6b717235e59178a79725.png)

*Everything You Need To Know About Serverless Architecture*

# 什么不是无服务器？

PaaS 与无服务器的区别在于，传统的 PaaS 提供商，如 OpenShift 和 Heroku，不具备自动扩展功能。如果您使用 PaaS，您必须预先指定您的应用程序需要多少资源。当然，仍然可以通过改变分配的资源数量来手动或缩小应用程序的规模，但问题是，这是开发人员的责任。其次，传统的 PaaS 是为长期运行的服务器应用程序设计的。通过这样的设计，应用程序总是在运行以服务于传入的请求。如果您关闭应用程序，它显然不会满足请求。使用 FaaS，您的函数开始服务于一个请求，并在它被处理时终止它。理想情况下，当没有传入请求时，您的函数不应该消耗服务提供者的资源。

# 容器有什么不同？

Docker 的兴起主要标志着容器技术的出现。这些容器为下一代虚拟机设定了标准。容器的问题是，它不仅仅是用更轻量级的抽象来代替虚拟机。它还充当应用程序的通用打包机制。简单地说，容器是运行在容器主机上的打包的小型服务器，容器主机基本上是另一个服务器。容器的问题是你必须弄脏你的手。无服务器的原则之一是允许程序员专注于代码，而不是管道。容器是一个很好的工具，但是使用它们，您必须处理维护所包含的环境的技术负载。对于真正的无服务器容器，它们需要对等待工作的虚拟机做一些事情。因为他们需要在详细的消费测量的基础上采用基于调用的计费。然而，无服务器和容器之间有一个内在的相似性。

# 为什么我应该去无服务器？

*   敏捷方法因为目光短浅而受到了很多批评。它的方法加速了开发过程，但是用户不能以同样的速度访问这些产品。如果使用得当，无服务器架构将解决这个问题。云计算的推出将应用交付与拥有和管理基础设施分离开来。云使您部署应用程序而不必担心硬件成为可能。考虑摆脱低价值的工作，以便在高价值的应用程序功能上进行更多的投资。
*   看云计算确实摆脱了基础设施投资。即便如此，我们都对让云虚拟机无休止地运行而不做任何有成效的工作感到内疚。管理容量，即使是虚拟容量，也是一项艰巨的任务。如果您使用无服务器，而不是一直运行执行环境，它只允许在必要时执行代码，由表示计算请求的某个事件触发。
*   无服务器架构非常适合于事件驱动的、偶发的应用程序和受不可预测流量模式影响的应用程序。对于传统的虚拟机或以容器为中心的应用程序架构来说，这又是一个可怕的匹配。
*   无服务器计算成本的节省将被证明是惊人的。我们大多数人都没有真正意识到无服务器计算的经济性。首先，一旦您开始使用无服务器架构，您就不再为闲置资源付费。大多数组织不知道这些成本有多大。有了无服务器，所有这些浪费的钱又回到了你的身上。一旦人们认识到无服务器计算带来的经济利益，人们的兴趣、实验和采用将会大大增加。
*   开发人员不需要实现代码来扩展，系统管理员也不需要升级现有的服务器或添加额外的服务器。无服务器架构使您可以无缝、透明地利用服务器容量来满足您的业务需求。
*   部署变得容易多了。你看，版本控制是内置在系统中的，所以回退也变得简单了。程序员肩上的另一个重要责任。

# 去无服务器的缺点是什么？

*   对于长时间运行的应用程序，无服务器不会证明同样有效。事实上，对于长时间运行的任务，使用无服务器架构比在专用服务器或虚拟机上运行工作负载要昂贵得多。
*   无服务器也很容易增加复杂性，而不是降低复杂性。合适的工具和生态系统公司需要介入，来解决这个问题。
*   在您的应用程序中，供应商锁定将完全依赖于第三方提供商。在这里，您不会保留对应用程序的完全控制。如果不对应用程序进行重大更改，您甚至可能无法更改平台或提供商。此外，您依赖于平台的可用性和平台的 API。成本也会改变。当然，目前的 FaaS 实现互不兼容。
*   在无服务器和微服务架构中引入了函数或微服务调用的额外开销。没有本地操作。不要假设两个通信功能位于同一个服务器上。
*   为了更有效地利用他们的资源，服务提供商可以在同一个物理服务器上为几个不同的客户运行他们的软件，也称为多租户。在早期阶段，即使不同客户端的工作负载被隔离在虚拟机或容器中，也可能存在不同的 bug。如果您正在处理敏感数据，这可能是您的应用程序的一个主要安全问题。平台中的这些潜在错误，甚至是客户代码中的错误，都会影响应用程序的性能或可用性。
*   对于一个可伸缩的无服务器平台来说，处理函数的第一个请求确实需要一些时间。这个问题被称为“冷启动”你看，一个平台需要初始化内部资源。如果长时间没有对您的函数的请求，平台也可能最终释放这些资源。您可以通过定期向函数发送请求来确保函数保持活动状态，从而避免冷启动。
*   如果您使用相同的云进行测试，某些供应商不会提供现成的工具来在本地测试功能。这并不理想，因为您最终将为每个函数调用付费。一些第三方解决方案正试图通过允许您在本地测试功能来填补这一空白。
*   不同的供应商提供了不同的登录函数的方法。如何实现更高级的日志记录完全取决于您。

无服务器架构是一种编写和部署应用程序的新方法，它让您可以专注于应用程序的核心，即代码。这种方法缩短了上市时间，降低了运营成本和系统复杂性。虽然无服务器利用第三方供应商来消除设置和配置物理服务器或虚拟机的需要，但它也将您的应用程序及其架构锁定在特定的服务提供商。在未来几天，我们预计会有更多框架帮助我们避免供应商锁定，并使我们能够在不同的云提供商甚至内部运行我们的无服务器应用程序。所以上面提到的许多弊端很快就会得到解决。

# 底线:

该是把责任推卸给更有权力的人的时候了。云计算给应用程序世界带来了巨大的变化。事实上，过去十年信息技术的许多创新都要归功于云计算。有些人甚至说，我们正处于另一场云革命的边缘，即走向无服务器计算。它承诺改变应用程序的范例，并提供了一种走向后虚拟机、后容器世界的可能性。当然，不言而喻，无服务器计算将打破许多现有的实践和流程。

*原载于*[***cognitive clouds***](https://www.cognitiveclouds.com/insights/everything-you-need-to-know-about-serverless-architecture/)***:****Top*[***Node js 开发公司***](https://www.cognitiveclouds.com/custom-software-development-services/node-js-development-company)

![](img/731acf26f5d44fdc58d99a6388fe935d.png)

## 这篇文章发表在 [The Startup](https://medium.com/swlh) 上，这是 Medium 最大的创业刊物，拥有 299，352+人关注。

## 在这里订阅接收[我们的头条新闻](http://growthsupply.com/the-startup-newsletter/)。

![](img/731acf26f5d44fdc58d99a6388fe935d.png)