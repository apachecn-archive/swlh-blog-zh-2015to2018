<html>
<head>
<title>3 easiest ways to improve performance of a Ruby on Rails app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提高Ruby on Rails应用程序性能的3个最简单的方法</h1>
<blockquote>原文：<a href="https://medium.com/swlh/3-easiest-ways-to-improve-performance-of-a-ruby-on-rails-app-a3d85c0cc7d9#2017-07-03">https://medium.com/swlh/3-easiest-ways-to-improve-performance-of-a-ruby-on-rails-app-a3d85c0cc7d9#2017-07-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ece497a00fbafd453407e96ddf7108c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dgIVWHy2LrnGVr0IkWGeEQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx"><strong class="bd iu">3 easiest ways to improve performance of a Ruby on Rails app</strong></figcaption></figure><p id="4fb8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated">uby on Rails是一个很好的框架，可以让你轻松地构建web应用程序，并在很短的时间内运行它。它对某些原则的强调，比如约定胜于配置和不要重复自己(DRY)使得开发过程更快，但是如果不为此付出代价，就不会有任何好处。我们经常在开发周期中做出一些决定，这些决定当时看起来似乎无关紧要，但后来证明是至关重要的，足以降低应用程序的性能。此外，我们倾向于忽视web应用程序保持高效运行所需的适当关注。这意味着您的用户最终不得不应对安全问题、较慢的页面和足够多的错误信息屏幕，将它们推给您的竞争者。</p><p id="f522" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">应用程序的性能无意中决定了服务的质量。因此，任何性能问题都应该是您主要关心的问题。你看，这里的主要问题是，大多数产品所有者并不关心性能问题，直到它开始困扰用户。性能应该始终是一个焦点，而不仅仅是在性能下降时，你要努力控制损失。让它成为整个过程的一部分，而不仅仅是每月一次的回顾。</p><p id="f9f6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">今天我们将讨论提高Rails应用程序性能的三种最简单的方法，这三种方法相对来说需要较少的努力，并且被认为有实际的回报。下面提到的一些提高Rails应用程序速度的方法非常简单，而且经常被忽视。</p><h1 id="6864" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">这些方法</h1><p id="332c" class="pw-post-body-paragraph iv iw hi ix b iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo le jq jr js hb bi jt translated"><span class="l ju jv jw bm jx jy jz ka kb di">我们</span>明白，在截止日期内开发大型Rails应用程序时，保持代码整洁有序是一项艰巨的任务。要么现在所有低效的代码都已经建立起来了，要么你正在接管别人的项目，并面临这种困境。手动代码重构是一个耗时且痛苦的过程。为了让你的工作更容易，你可以使用大量的宝石来代替。因此，在采取任何措施优化应用程序的性能之前，先设置一个分析工具，如New Relic、rack-mini-profiler、Scout、RubyProf等。使用一个在生产模式下安全运行的分析工具，当它在“真实世界”中工作时，它将为您识别缓慢的代码。通过这种方式，您将能够专注于与您的业务相关的最关键的瓶颈，并首先关注这些领域。</p><h1 id="7aaa" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">1.求解N+1查询:</h1><p id="bb0a" class="pw-post-body-paragraph iv iw hi ix b iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo le jq jr js hb bi jt translated">这是大多数Rails应用程序面临的一个普遍而严重的问题，即缺乏急切加载的关联。我相信你听说过N+1查询。简而言之，当一行看似无害的代码引发了比您预期的更多的查询时，它就出现了。这个问题最终会变得复杂，您可能会运行一百个查询来得到一个结果，而不是运行一个查询得到一百个结果。在开发中，如果没有重构，就很难识别N+1个问题，因为我们使用的是一个小数据集。因此，数据库性能问题可能只有在处理生产规模的数据库时才会引起我们的注意。急切加载将有助于解决这个N + 1查询性能问题。你也可以使用像bullet这样的宝石，来解决N + 1查询问题。</p><h1 id="272e" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">2.尽可能缓存:</h1><p id="1118" class="pw-post-body-paragraph iv iw hi ix b iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo le jq jr js hb bi jt translated"><span class="l ju jv jw bm jx jy jz ka kb di">如果</span>你在寻找更快的速度，那么在每个请求上执行更少的Ruby。缓存是最简单的方法。它包括存储在请求-响应周期中生成的所有内容，并在响应类似性质的请求时重用这些内容。关于缓存的官方Rails指南将让您对涉及Rails不同缓存API的技术细节有一个很好的了解。在众多可用的缓存后端中，每一个都有其优缺点，有些可能很慢，但可以在主机和服务器之间共享，而有些很快，但不能共享缓存。我们每个人都有不同的要求。一旦建立了缓存存储，您就需要找出性能热点并对其进行分区。这就是分析工具发挥巨大作用的地方，它可以显示页面中降低性能的部分。</p><h1 id="44b2" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">3.熟悉你的宝石和插件:</h1><p id="b18c" class="pw-post-body-paragraph iv iw hi ix b iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo le jq jr js hb bi jt translated"><span class="l ju jv jw bm jx jy jz ka kb di">尽可能使用宝石和插件，有了如此庞大且不断增长的社区支持，你就不必在内部重新创作了。这会节省你很多时间。有足够多的精彩的Rails插件，然而在依赖一个新的插件或gem之前，对源代码做一些研究，并确保你使用插件是为了它们的预期目的，否则可能弊大于利。</span></p><blockquote class="lf"><p id="3914" class="lg lh hi hj li lj lk ll lm ln lo js dx translated">Rails应用程序的许多方面都可能导致瓶颈。数据库索引、负载平衡、减少堆分配是加速Rails应用程序的许多其他方法中的一部分。底线，关键的事情是找出这些瓶颈在哪里；在你确定了这一点之后，你可以根据最需要注意的事情来逐一处理它们。</p></blockquote></div><div class="ab cl lp lq gp lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="hb hc hd he hf"><p id="c420" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="lw">最初发表于CognitiveClouds的产品洞察博客:Top </em> <a class="ae lx" href="https://www.cognitiveclouds.com/custom-software-development-services/ruby-on-rails-development-company" rel="noopener ugc nofollow" target="_blank"> <strong class="ix ly"> <em class="lw"> Ruby on Rails开发公司</em> </strong> </a></p><figure class="ma mb mc md fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/731acf26f5d44fdc58d99a6388fe935d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gfnVvkMRFtjVsWF7vkClA.png"/></div></div></figure><h2 id="fd41" class="me kd hi bd ke mf mg mh ki mi mj mk km jg ml mm kq jk mn mo ku jo mp mq ky mr bi translated">这个故事发表在<a class="ae lx" href="https://medium.com/swlh" rel="noopener"> The Startup </a>上，这是Medium最大的企业家出版物，拥有298，432+人。</h2><h2 id="7945" class="me kd hi bd ke mf mg mh ki mi mj mk km jg ml mm kq jk mn mo ku jo mp mq ky mr bi translated">在这里订阅接收<a class="ae lx" href="http://growthsupply.com/the-startup-newsletter/" rel="noopener ugc nofollow" target="_blank">我们的头条新闻</a>。</h2><figure class="ma mb mc md fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/731acf26f5d44fdc58d99a6388fe935d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gfnVvkMRFtjVsWF7vkClA.png"/></div></div></figure></div></div>    
</body>
</html>