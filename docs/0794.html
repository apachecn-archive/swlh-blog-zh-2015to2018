<html>
<head>
<title>When Is It Advised To Use GraphQL For A Ruby On Rails App With React?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么时候建议将GraphQL用于带有React的Ruby On Rails应用程序？</h1>
<blockquote>原文：<a href="https://medium.com/swlh/when-is-it-advised-to-use-graphql-for-a-ruby-on-rails-app-with-react-ac4a4d99a422#2017-05-21">https://medium.com/swlh/when-is-it-advised-to-use-graphql-for-a-ruby-on-rails-app-with-react-ac4a4d99a422#2017-05-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ef3c0211f54929d3bcb9192a3a14490b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*85zTMbNTxYeWPqbCiOWJaw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">When Is It Advised To Use GraphQL For A Ruby On Rails App With React?</figcaption></figure><p id="bfe1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在我们深入讨论手头的问题之前，我必须把心里的话说出来。不要被技术诱惑。不要因为新工具是趋势就采用它。GitHub和脸书为GraphQL留下了休息时间。不要假设这对他们有效，对你也有效。在这里，你没有考虑到你的背景。简单点说，你希望GraphQL为你做什么？这似乎是一个显而易见的观点，但是在使用新工具之前，您必须了解它的优点和缺点。</p><h1 id="35c5" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">GraphQL是什么？</h1><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/1251a4a0df98543c9a6687a6b3bc8f3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SCKJSaMWWj-oCcHI.png"/></div></div></figure><p id="6e49" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">GraphQL是一种用于定义两个应用程序如何相互通信的语言。您定义数据类型，然后定义对这些数据类型执行的操作。如果你想要一个更好的定义，GraphQL是一种操作和查询数据的语言。看，在GraphQL中，响应格式是在查询中描述的，是由客户端而不是服务器定义的。这就是为什么它们被称为客户端指定的查询。换句话说，如果您的应用程序需要数据，而JSON是答案，那么GraphQL就是问题。</p><p id="efc9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">GraphQL是一种很好的提问方式，因为它将获取数据的方式与产品开发人员和设计人员考虑消费数据的方式结合起来。记住GraphQL是客户机和服务器之间的规范。它并不特定于任何一种编程语言。任何客户端都应该能够与任何服务器通信，如果他们使用GraphQL的话。</p><h1 id="4547" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">脸书的故事</h1><p id="3897" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">GraphQL由脸书创建，旨在解决他们在扩展世界上最大的社交网络时面临的一些挑战。因此，没有脸书的故事，任何关于GraphQL的文章都是不完整的。直到2007年左右，脸书还是一家以网络为中心的公司。这是在移动电话席卷全球之前，公司意识到这些智能手机不仅仅是一种新时尚，而是会一直存在下去。在这里，脸书和许多其他公司不得不改变他们的战略，重新安排一切，从他们实践的技术到他们用于移动开发的方法。</p><p id="07af" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">脸书开始在原生视图中构建HTML5移动应用，以使其网络内容适合智能手机。人们在这个时候使用脸书的移动应用程序的体验是可预见的可怕。智能手机上的网络浏览器跟不上脸书应用程序的复杂性。你看，他们仍然实行移动后的想法，而不是移动优先战略。2012年，脸书开始<a class="ae lb" href="http://www.cognitiveclouds.com/custom-software-development-services/mobile-app-development-company" rel="noopener ugc nofollow" target="_blank"> <strong class="iw js">打造原生移动应用</strong> </a>。他们不只是从头开始重写他们的移动应用程序。他们重新思考了整个技术体系。</p><p id="7aa3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">随着堆栈的这些变化，重心转移到了用户的设备上，大多数情况下是智能手机。web层变得更像一个应用服务器。脸书移除了具有过多端点和大型端点的Restful API，因为随着时间的推移，它变得难以管理。他们意识到<a class="ae lb" href="http://www.cognitiveclouds.com/custom-software-development-services/rest-api-development-company" rel="noopener ugc nofollow" target="_blank"> <strong class="iw js"> Rest API的</strong> </a>并不合适，因为大多数移动开发者考虑的是用户界面设计，而不是资源URL。你看，当你想到获取数据时，你想到的是图形数据。这是脸书的认识，所以他们开发了GraphQL，一种数据图表的查询语言。</p><h1 id="eeb6" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">核心原则</h1><p id="e8de" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">GraphQL的核心就像一个类型系统。服务器拥有一个类型系统，类型系统表达了服务器的所有能力。当客户端有需求时，服务器广播这些能力。客户机在运行时请求东西，服务器知道什么是可能的，客户机知道它需要什么。这种方法允许客户端和服务器相互独立地发展和扩展。</p><blockquote class="lc ld le"><p id="2775" class="iu iv lf iw b ix iy iz ja jb jc jd je lg jg jh ji lh jk jl jm li jo jp jq jr hb bi translated"><em class="hi"> GraphQL支持服务器和客户端之间的新契约。现在有了GraphQL，就必须支持多种内容类型(XML、JSON等。).而REST在客户机和服务器之间提供了一个统一的接口，这意味着它们使用相同的格式。</em></p></blockquote><p id="8fde" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">构图是另一个重要的原则。GraphQL可以协同定位并建立一个大型查询，该查询是由更多不同的后端或内部请求服务的单个查询。在这里，使用GraphQL您将不得不考虑其中一个可能失败的情况，但是有一个简单的解决方案。拆分查询。</p><h1 id="eb93" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">GraphQL在哪里有用？</h1><ol class=""><li id="4e98" class="lj lk hi iw b ix kw jb kx jf ll jj lm jn ln jr lo lp lq lr bi translated">组合来自多个点的数据是GraphQL的一个巨大优势，它在数据模型中为您提供的灵活性也是如此。</li><li id="7ce3" class="lj lk hi iw b ix ls jb lt jf lu jj lv jn lw jr lo lp lq lr bi translated">在Rest API中，你必须对你的API进行版本化才能进化，而GraphQL允许你在没有版本化的情况下进化。这意味着您的API变得更少资源饥饿和更干净。</li><li id="fe32" class="lj lk hi iw b ix ls jb lt jf lu jj lv jn lw jr lo lp lq lr bi translated">GraphQL具有灵活的响应格式。当您的移动或web客户端需要避免进一步的查询和大量数据转换时，这很有帮助。</li><li id="ab96" class="lj lk hi iw b ix ls jb lt jf lu jj lv jn lw jr lo lp lq lr bi translated">使用GraphQL服务器使您的移动客户端开发人员可以轻松地更改响应格式，而无需在后端请求更改。</li><li id="b29d" class="lj lk hi iw b ix ls jb lt jf lu jj lv jn lw jr lo lp lq lr bi translated">使用GraphQL，您可以用更自然的方式描述所需的数据，这就是GraphQL以加速应用程序开发而闻名的原因。</li></ol><h1 id="1d98" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">痛点</h1><ol class=""><li id="1eb9" class="lj lk hi iw b ix kw jb kx jf ll jj lm jn ln jr lo lp lq lr bi translated">缺乏清晰的文档化用例往往是一个问题。请记住，API文档不仅仅是对其接口契约以及查询和对象清单的描述。API及其文档是良好开发体验的关键。</li><li id="3106" class="lj lk hi iw b ix ls jb lt jf lu jj lv jn lw jr lo lp lq lr bi translated">对于REST API，您可以依赖HTTP的缓存系统，但是对于GraphQL，这个选项就不再存在了。您必须依赖客户端来处理缓存。随着GraphQL的发展，这在未来可能不是问题。</li><li id="9c49" class="lj lk hi iw b ix ls jb lt jf lu jj lv jn lw jr lo lp lq lr bi translated">GraphQL需要数据加载器来提高效率。使用GraphQL，您必须明确地说明您想要什么。这意味着对于每个请求，消费者必须发送一个完整的查询。如果你有一个懒惰的开发人员，复杂、大量的请求可能会影响你的基础设施。</li><li id="3aab" class="lj lk hi iw b ix ls jb lt jf lu jj lv jn lw jr lo lp lq lr bi translated">很难找到并坚持好的查询、变异和参数的命名惯例。好消息是有足够多的关于好的命名实践的文章来帮助你解决这个问题</li><li id="175b" class="lj lk hi iw b ix ls jb lt jf lu jj lv jn lw jr lo lp lq lr bi translated">一些GraphQL用户面临着中继给他们的数据模型增加复杂性的问题。</li></ol><h1 id="2387" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">是否建议将Rails、React和GraphQL一起作为技术栈使用？</h1><p id="7b4a" class="pw-post-body-paragraph iu iv hi iw b ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr hb bi translated">在不理解你试图解决的问题的情况下，很难给你一个是或否的答案。如果React为值得使用的特定项目提供了技术优势，那么确保该实现的成功是值得的，尽管React本身是否能够提供必要的技术基础设施还值得怀疑。看，React对于构建前端应用程序来说棒极了。</p><p id="45f5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在Rails是后端的完美选择。它在前端没有做任何“创新”的事情。对于一个需要后端的项目来说，它拥有一个可靠的、文档完整的数据库，以及稳定的历史和稳定的增长，Rails是一个不错的选择。Rails和React两者配合得非常好。</p><p id="3bb9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，当您拥有动态前端时，GraphQL是一个不错的选择。它将您的前端开发人员与后端工程师分离开来，使两者都能够进行查询以获得他们需要的数据，而无需相互依赖。就拿脸书的例子来说，他们做了很多原型，所以这通过消除后端和前端开发人员之间的一些来回通信节省了他们的时间。</p><p id="766c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这将有助于您在下一个项目中决定何时使用GraphQL。</p></div><div class="ab cl lx ly gp lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hb hc hd he hf"><p id="884a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="lf">原载于</em> <a class="ae lb" href="https://www.cognitiveclouds.com/insights/" rel="noopener ugc nofollow" target="_blank"> <strong class="iw js"> <em class="lf">产品洞察博客</em> </strong> </a> <em class="lf">来自cognitive clouds:Top</em><a class="ae lb" href="https://www.cognitiveclouds.com/custom-software-development-services/ruby-on-rails-development-company" rel="noopener ugc nofollow" target="_blank"><strong class="iw js"><em class="lf">Ruby on Rails开发公司</em> </strong> </a></p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/731acf26f5d44fdc58d99a6388fe935d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gfnVvkMRFtjVsWF7vkClA.png"/></div></div></figure><h2 id="fd41" class="mf ju hi bd jv mg mh mi jz mj mk ml kd jf mm mn kh jj mo mp kl jn mq mr kp ms bi translated">这个故事发表在<a class="ae lb" href="https://medium.com/swlh" rel="noopener"> The Startup </a>上，这是Medium最大的创业刊物，拥有299，352+人关注。</h2><h2 id="7945" class="mf ju hi bd jv mg mh mi jz mj mk ml kd jf mm mn kh jj mo mp kl jn mq mr kp ms bi translated">在这里订阅接收<a class="ae lb" href="http://growthsupply.com/the-startup-newsletter/" rel="noopener ugc nofollow" target="_blank">我们的头条新闻</a>。</h2><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/731acf26f5d44fdc58d99a6388fe935d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gfnVvkMRFtjVsWF7vkClA.png"/></div></div></figure></div></div>    
</body>
</html>